(this["webpackJsonppoke-react"]=this["webpackJsonppoke-react"]||[]).push([[0],{39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},54:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(29),r=c.n(a),i=(c(39),c(33)),o=c(2),j=(c(40),function(e){try{return fetch(e).then((function(e){if(e.ok)return e.json();throw new Error("Api call failed")}))}catch(t){console.log(t)}}),l=c(3),b=c(34),d=(c(41),c(5)),h=(c(42),c(0));function u(e){var t=e.name,c=e.sprites,n=e.id,s=e.base_experience;return Object(h.jsx)("div",{className:"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2",children:Object(h.jsxs)("div",{className:"poke-card mb-4 pt-1",children:[Object(h.jsxs)("p",{className:"title border",children:[Object(h.jsx)("strong",{children:t})," "]}),Object(h.jsx)("img",{src:c.other.dream_world.front_default,alt:t,className:"card-img"}),Object(h.jsxs)("p",{children:["xp ",s]}),Object(h.jsx)(d.b,{to:"/".concat(n),children:Object(h.jsx)("button",{className:"btn btn-poke",children:"Open"})})]})})}var O=c(31),p=c.n(O);function m(e){var t=e.pokemons,c=e.error,s=Object(n.useState)(0),a=Object(o.a)(s,2),r=a[0],i=a[1],j=18*r,l=0,d=t&&t.slice(j,j+18).map((function(e){return l++,console.log(e),Object(h.jsx)(u,Object(b.a)({},e),l)})),O=0;t&&(O=Math.ceil(t.length/18));return Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"row text-center container-fluid",children:[c?Object(h.jsx)("h1",{className:"text-white",children:"Could not find pokemon"}):d,!c&&Object(h.jsx)("div",{className:"col-12 mt-5",children:Object(h.jsx)(p.a,{previousLabel:Object(h.jsx)("i",{className:"fas fa-chevron-circle-left mk"}),nextLabel:Object(h.jsx)("i",{className:"fas fa-chevron-circle-right"}),pageCount:O,onPageChange:function(e){var t=e.selected;i(t)},containerClassName:"pagination",previousLinkClassName:"pagination__link",nextLinkClassName:"pagination__link",disabledClassName:"pagination__link--disabled",activeClassName:"pagination__link--active"})})]})})}var x=c.p+"static/media/spinner.94cd27f1.gif",f=(c(51),function(){return Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"outer-container",children:[Object(h.jsx)(d.b,{to:"/scores",children:Object(h.jsx)("button",{className:"btn btn-poke",children:"Score"})}),Object(h.jsx)(d.b,{to:"/",children:Object(h.jsx)("button",{className:"btn btn-poke",children:"Home"})})]})})}),v=function(){var e=Object(l.f)().id,t=Object(n.useState)(),c=Object(o.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)(!0),i=Object(o.a)(r,2),b=i[0],u=i[1],O=Math.floor(500*Math.random());return Object(n.useEffect)((function(){j("https://pokeapi.co/api/v2/pokemon/".concat(e)).then((function(e){u(!1),a(e)})).catch((function(e){return console.log(e)}))}),[e]),b?Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:x,alt:"spinner",className:"spinner"})}):s?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(f,{}),Object(h.jsxs)("div",{className:"container bg-light rounded",children:[Object(h.jsx)("div",{className:"py-3",children:Object(h.jsx)("h2",{children:s.name})}),Object(h.jsxs)("div",{className:"row px-3",children:[Object(h.jsx)("div",{className:"col-12 col-md-4",children:Object(h.jsx)("img",{src:s.sprites.other.dream_world.front_default,height:"250px",alt:s.name})}),Object(h.jsx)("div",{className:"col-12 col-md-8",children:Object(h.jsx)("div",{className:"ability-container row",children:s.stats.map((function(e,t){return Object(h.jsxs)("div",{className:"row col-12 text-left",children:[Object(h.jsx)("div",{className:"col-3",children:Object(h.jsx)("p",{children:e.stat.name})}),Object(h.jsx)("div",{className:"col-9",children:Object(h.jsx)("div",{className:"progress",children:Object(h.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(e.base_stat,"%")},"aria-valuenow":e.base_stat,"aria-valuemin":"0","aria-valuemax":"200",children:e.base_stat})})})]},t)}))})})]}),Object(h.jsx)(d.b,{to:"/",children:Object(h.jsx)("button",{className:"btn btn-outline-dark my-5",children:"Back"})}),Object(h.jsx)(d.b,{to:"/fight/".concat(e,"/").concat(O),children:Object(h.jsx)("button",{className:"btn btn-poke my-5 m-3",children:"Fight"})})]})]}):Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:x,alt:"spinner",className:"spinner"})})};c(52);var N=function(){return Object(h.jsx)("div",{className:"pt-3",children:Object(h.jsx)("footer",{className:"copyrightSign p-3",children:"@  Copyright by Fred Alicia Mustafa"})})},g=c.p+"static/media/pokemon-image.fc761376.png",k=c(13),w=c.n(k),_=c(19),S=function(e){var t=e.pokemon,c=e.score;e.setAction;return Object(h.jsxs)("div",{className:"fight-card col-12 col-md-6",children:[Object(h.jsxs)("p",{className:"title",children:[t.name," "]}),Object(h.jsxs)("div",{className:"row col-12 text-left",children:[Object(h.jsx)("div",{className:"col-4",children:Object(h.jsx)("p",{children:"Score"})}),Object(h.jsx)("div",{className:"col-8",children:Object(h.jsx)("div",{className:"progress",children:Object(h.jsx)("div",{className:"progress-bar progress-bar-striped  progress-bar-animated bg-danger",role:"progressbar",style:{width:"".concat(c,"%")},"aria-valuenow":c,"aria-valuemin":"0","aria-valuemax":"200",children:c})})})]}),Object(h.jsx)("img",{src:t.sprites.other.dream_world.front_default?t.sprites.other.dream_world.front_default:t.sprites.front_default,alt:t.name,className:"card-img pb-3"}),Object(h.jsx)("div",{className:"ability-container row",children:t.stats.map((function(e,t){return Object(h.jsxs)("div",{className:"row col-12 text-left",children:[Object(h.jsx)("div",{className:"col-4",children:Object(h.jsx)("p",{children:e.stat.name})}),Object(h.jsx)("div",{className:"col-8",children:Object(h.jsx)("div",{className:"progress",children:Object(h.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(e.base_stat,"%")},"aria-valuenow":e.base_stat,"aria-valuemin":"0","aria-valuemax":"200",children:e.base_stat})})})]},t)}))})]})},y=(c(54),c(55)),C=function(){var e=Object(l.f)(),t=e.pokeId,c=e.opponentId,s=Object(n.useState)(),a=Object(o.a)(s,2),r=a[0],i=a[1],b=Object(n.useState)(),u=Object(o.a)(b,2),O=u[0],p=u[1],m=Object(n.useState)(100),v=Object(o.a)(m,2),N=v[0],g=v[1],k=Object(n.useState)(100),C=Object(o.a)(k,2),E=C[0],I=C[1],M=Object(n.useState)(!0),A=Object(o.a)(M,2),F=A[0],L=A[1],W=Object(n.useState)(!1),U=Object(o.a)(W,2),B=U[0],D=U[1],H=Object(n.useState)(!1),J=Object(o.a)(H,2),R=J[0],T=J[1],z=Object(n.useState)(!1),K=Object(o.a)(z,2),P=K[0],q=K[1];Object(n.useEffect)((function(){j("https://pokeapi.co/api/v2/pokemon/".concat(c)).then((function(e){p(e)})).catch((function(e){return console.log(e)}))}),[c]),Object(n.useEffect)((function(){j("https://pokeapi.co/api/v2/pokemon/".concat(t)).then((function(e){i(e),L(!1)})).catch((function(e){return console.log(e)}))}),[t]),Object(n.useEffect)((function(){(R||P)&&(D(!0),Q())}),[R,P]);for(var G=function(e){return Math.floor(Math.random()*e)},Q=function(){var e=Object(_.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("https://poke-express-api.herokuapp.com/api/v1/score",{user:"6050dd4f3146d8ebba7cd373",user_pokemon:r.name,opponent_pokemon:O.name,user_wins:R},{headers:{"Content-Type":"application/json"}});case 2:t=e.sent,console.log(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(e,t,c){var n=G(4),s=e-G(t.stats[1].base_stat/3)+G(c.stats[2].base_stat/9)+G(c.stats[5].base_stat/19);return 1===n&&(s+=G(c.stats[4].base_stat/5)),0===n&&(s-=G(t.stats[3].base_stat/5)),s>=e?e:s<=0?0:s},X=function(){var e=Object(_.a)(w.a.mark((function e(){var t,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(N,O,r);case 2:return t=e.sent,e.next=5,V(E,r,O);case 5:c=e.sent,g(t),I(c),t<=0&&q(!0),c<=0&&T(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();F;)return Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:x,alt:"spinner",className:"spinner"})});return r&&O?Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsxs)("div",{className:"container row text-center",children:[Object(h.jsx)(f,{}),R&&Object(h.jsx)("h1",{className:"text-white",children:"USER WON"}),P&&Object(h.jsx)("h1",{className:"text-white",children:"Opponent WON"}),Object(h.jsx)(S,{pokemon:r,setAction:i,score:N}),Object(h.jsx)(S,{pokemon:O,setAction:p,score:E})]}),Object(h.jsx)("div",{className:"fight-btn text-center",children:Object(h.jsx)("button",{className:"btn btn-danger btn-lg m-1 ".concat(B&&"disabled"),onClick:X,children:"Fight"})}),Object(h.jsxs)("div",{className:"btn-container",children:[Object(h.jsx)(d.b,{to:"/",children:Object(h.jsx)("button",{className:"btn btn-outline-dark m-1",children:"Home"})}),Object(h.jsx)(d.b,{to:"/".concat(t),children:Object(h.jsx)("button",{className:"btn btn-outline-dark m-1 mr-5",children:"Same pokemon - new opponent"})}),Object(h.jsx)("button",{className:"btn btn-outline-danger m-1",onClick:function(){g(100),I(100),q(!1),T(!1),D(!1)},children:"Reset"})]})]})}):Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:x,alt:"spinner",className:"spinner"})})},E=c(78),I=(c(74),function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!0),r=Object(o.a)(a,2),i=r[0],l=r[1],b=Object(n.useState)(!1),d=Object(o.a)(b,2),u=d[0],O=d[1];return Object(n.useEffect)((function(){j("https://poke-express-api.herokuapp.com/api/v1/score/6050dd4f3146d8ebba7cd373").then((function(e){s(e),l(!1)})).catch((function(e){return O(!0)}))}),[]),i?Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:x,alt:"spinner",className:"spinner"})}):u?Object(h.jsx)("div",{className:"bg-danger",children:Object(h.jsx)("h2",{children:"Error occurred"})}):(c&&console.log(c),c?Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(f,{}),Object(h.jsx)("h3",{className:"text-white text-center",children:"Own Scores"}),Object(h.jsxs)(E.a,{striped:!0,bordered:!0,hover:!0,variant:"light",responsive:!0,size:"md",rounded:!0,children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"own pokemon"}),Object(h.jsx)("th",{children:"opponent pokemon"}),Object(h.jsx)("th",{children:"# Won"})]})}),Object(h.jsx)("tbody",{children:c.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.user_pokemon}),Object(h.jsx)("td",{children:e.opponent_pokemon}),Object(h.jsx)("td",{children:!0===e.user_wins?Object(h.jsx)("span",{className:"won",children:"Won"}):Object(h.jsx)("span",{className:"lost",children:"Lost"})})]},e._id)}))})]}),Object(h.jsx)("hr",{})]}):void 0)}),M=(c(75),function(e){var t=e.handleUserInput,c=e.userInput,n=e.setSearch;return Object(h.jsx)("div",{className:"input-wrapper",children:Object(h.jsx)("input",{type:"search",placeholder:"Search ... ","aria-label":"Search",value:c,onChange:t,className:"search-bar",onKeyDown:function(e){"Enter"===e.key&&n(c)}})})}),A=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!0),r=Object(o.a)(a,2),b=r[0],d=r[1],u=Object(n.useState)(""),O=Object(o.a)(u,2),p=O[0],f=O[1],k=Object(n.useState)(""),w=Object(o.a)(k,2),_=w[0],S=w[1],y=Object(n.useState)(!1),E=Object(o.a)(y,2),A=E[0],F=E[1];Object(n.useEffect)((function(){L(p)}),[p]);var L=function(e){""===e?(F(!1),W("https://pokeapi.co/api/v2/pokemon?limit=90")):(console.log("search triggered"),j("https://pokeapi.co/api/v2/pokemon/".concat(e)).then((function(e){s([e])})).catch((function(e){return F(!0)})))},W=function(e){j(e).then((function(e){e&&e.results.forEach((function(e){U(e)}))}))},U=function(e){var t=e.url;j(t).then((function(e){d(!1),s((function(t){return[].concat(Object(i.a)(t),[e])}))}))};return b?Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:x,alt:"spinner",className:"spinner"})}):c?Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("div",{className:"text-center pb-2",children:Object(h.jsx)("img",{src:g,alt:"logo",className:"logo-img"})}),Object(h.jsxs)(l.c,{children:[Object(h.jsxs)(l.a,{exact:!0,path:"/",children:[Object(h.jsx)(M,{handleUserInput:function(e){e.preventDefault(),S(e.target.value)},userInput:_,setSearch:f}),Object(h.jsx)(m,{pokemons:c,error:A})]}),Object(h.jsx)(l.a,{exact:!0,path:"/scores",children:Object(h.jsx)(I,{})}),Object(h.jsx)(l.a,{exact:!0,path:"/:id",children:Object(h.jsx)(v,{})}),Object(h.jsx)(l.a,{exact:!0,path:"/fight/:pokeId/:opponentId",children:Object(h.jsx)(C,{})})]}),Object(h.jsx)(N,{})]}):Object(h.jsx)("h1",{children:"WTF"})};r.a.render(Object(h.jsx)(d.a,{children:Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(A,{})})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.9102288a.chunk.js.map